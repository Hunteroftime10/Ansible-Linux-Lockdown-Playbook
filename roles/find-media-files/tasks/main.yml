---
# tasks file for find-media-files
#register all users home directorys
#this will have to loop
#

    #
    # - name: Ansible delete file glob
    #   find:
    #     paths: /etc/Ansible
    #     patterns: "^*.txt"
    #   register: files_to_delete
    #
    # - debug:
    #     var: files_to_delete




    # - name: Ansible remove file glob
    #   file:
    #     path: "{{ item.path }}"
    #     state: absent
    #   with_items: "{{ files_to_delete }}"

     # - name: Finding all users puting data in users in the user directory
     #   ansible.builtin.shell:
     #
     #     cmd: cat /etc/passwd > user
     # - name: Finding all users puting data in users in the user directory
     #   ansible.builtin.shell:
       #     cmd: ls -h /home |>> user

       # Im installing this here because I want to run the file checks first
      - name: Install Tree
        apt: tree
      - name: remove prexsisting logs
        shell:
          cmd: rm Logs_ansible
        ignore_errors: true

      - name: Checking all user files for unwanted files
        ansible.builtin.shell:
          cmd: tree -f -i /home |grep .mp3 >> Logs_ansible
        ignore_errors: true
      - name: Checking all user files for unwanted files
        ansible.builtin.shell:
          cmd: tree -f -i /home |grep .mp4 >> Logs_ansible
        ignore_errors: true
      - name: Checking all user files for unwanted files
        ansible.builtin.shell:
          cmd: tree -f -i /home |grep .mov >> Logs_ansible
        ignore_errors: true
      - name: Checking all user files for unwanted files
        ansible.builtin.shell:
          cmd: tree -f -i /home |grep .txt >> Logs_ansible
        ignore_errors: true
      - name: Checking all user files for unwanted files
        ansible.builtin.shell:
          cmd: tree -f -i /home |grep .pdf >> Logs_ansible
        ignore_errors: true
